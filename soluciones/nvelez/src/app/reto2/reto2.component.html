<div class="container mt-3">
  <h1 class="mb-2">Reto 2: Coordenadas ermitañas</h1>
  <form [formGroup]="formLocation" id="formLocation">
    <label class="form-label">Coordenadas ermitañas</label>
    <input type="text"
           class="form-control"
           formControlName="locationSignal"  
           placeholder="Introduce las coordenadas ermitañas...">
    <button class="btn btn-primary mt-2"
            [disabled]="formLocation.invalid"
            (click)="getLocation(locationSignal.value)">
			¿Dónde está Supercoco?
		</button>
  </form>

	<div class="spinner-border text-primary m-4"
	     role="status"
			 *ngIf="loader; else result">
		<span class="visually-hidden">Loading...</span>
	</div>

  <ng-template #result>
		<div class="container mt-3">
			<div *ngIf="data?.status"
					 class="alert"
					 [ngClass]="location ? 'alert-primary' : 'alert-danger'">
				{{ data.status }}
			</div>
			<ng-container *ngIf="location">
				<h4>Supercoco ahora está en <strong>{{ location }}</strong></h4>
				<p>{{ data.message_to_telegram }}</p>
				<img class="img-sc" [src]="data.supercoco_is_here" alt="supercoco_is_here">
				<p>{{ data.next_challenge }}</p>
			</ng-container>
		</div>
	</ng-template>

</div>